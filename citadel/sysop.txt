                        Citadel/UX Sysop/Aide Manual
                 See copyright.doc for copyright information
  
   
 OVERVIEW
 
   Citadel/UX, when installed properly, will do most of its maintenance by
itself. The message file loops upon itself forever, scrolling off old messages
to make space for new ones. The room files work in the same way. Other types
of maintenance can be done by cron. I have left my system unattended for long
periods of time without any software failures. 
   
  The system has seven access levels. Most users are at the bottom and have no
special privileges. Aides are selected people who have special access within
the Citadel program. Room Aides only have this access in a certain room. 
Preferred users can be selected by Aides for access to preferred only rooms. A
sysop is anyone who has access to the various sysop utilities - these are in
their own executable files, which should have their permissions set to allow
only sysops to run them. I recommend either creating a sysops group in
/etc/group, or using some other existing group for this purpose. 
   
   Aides have access to EVERY room on the system, public and private (all
types). They also have access to commands starting with .<A>ide in addition
to being able to delete and move messages. The system room, Aide>, is
accessible only by those designated by aides.
   
   
 AIDE COMMANDS
 
   Aides have the following commands available to them that are not available
to normal users. They are:
  
 .<A>ide <E>dit room         Allows an aide to change certain parameters of
                             the current room. Lobby>, Mail>, and Aide> may
                             not be edited.
 .<A>ide <F>ile <D>elete     If the current room has a directory, an Aide or
                             room Aide can delete files from the directory
                             using this command.
 .<A>ide <F>ile <M>ove       Moves a file from the directory of the current
                             room to the directory of another room.  If there
                             is a file description attached, it is moved also.
 .<A>ide <F>ile <S>end...    This will send a copy of a file in the current
                             room's directory to the directory of the same
                             room on another system on the network.  The other
                             system must be running Citadel/UX or another
                             program supporting IGnet/Open file transfers.
 .<A>ide edit <I>nfo file    Creates an info file for the current room, which
                             will be displayed to the user when any of three
                             conditions exist: the first time the user enters
                             the room, the next time the user enters the room
                             after the file has been changed, and when the
                             .<R>ead <I>nfo file command is entered.
 .<A>ide <K>ill room         Deletes the current room. Lobby>, Mail>, and
                             Aide> may not be deleted.
 .<A>ide <R>oom <I>nvite     Invites a user to the room if it is private.
 .<A>ide <R>oom <K>ickOut    Kicks a user out of the room if it is private.
 .<A>ide <S>ystem config     Edits global system configuration.
 .<A>ide <U>serEdit          Edits certain parameters of a user's account.
 .<A>ide <V>alidate newusers Lists users who have recently registered and
                             prompts for new access levels.
 .<A>ide <W>hoKnowsRoom      Lists all users who have access to, and who have
                             not chosen to zap, the current room.
   
   
   EDITING ROOMS
   
   This command allows any aide to change the parameters of a room.  Go to
the room you wish to edit and enter the .AE command.  A series of prompts will
be displayed.  The existing parameters will be displayed in brackets; simply
press return if you want to leave any or all of them unchanged.
 
Room name [IG's Fun Room]:
 
   ...the name of the room.

Private room [Yes]? 
 
   ...enter Yes if you wish to restrict access to the room, or no if the room
is to be accessible by all users.  Note that Citadel doesn't bother users
about access to rooms every time they need to access the room.  Once a user
gains access to a private room, it then behaves like a public room to them.
The following four questions will only be asked if you selected Private...

Accessible by guessing room name [No]?
 
   ...if you enter Yes, the room will not show up in users' <K>nown rooms
listing, but if they .<G>oto the room (typing the room's full name), they
will gain access to the room.

Accessible by entering a password [No]?
Room password [mypasswd]:  
 
   ...this adds an additional layer of security to the room, prompting users
for a password before they can gain access to the room.
 
If you did not select guessname or passworded, then the only way users can
access the room is if an Aide explicitly invites them to the room using the
.<A>ide <R>oom <I>nvite user command.

Cause current users to forget room [No] ? No
 
   Enter Yes if you wish to kick out anyone who currently has access to
the room.
 
Preferred users only [No]? No
 
   Enter Yes if you wish to restrict the room to only users who have level 5
(Preferred User) status (and Aides too, of course).  You should make the room
public if you intend to do this, otherwise the two restrictions will be
COMBINED.
 
Read-only room [No]? No
 
   If you set a room to Read-Only, then normal users will not be allowed to
post messages in it.  Messages may only be posted by Aides, and by utility
programs such as the networker and the "aidepost" utility.  This is useful
in situations where a room is used exclusively for important announcements,
or if you've set up a room to receive an Internet mailing list and posting
wouldn't make sense.  Other uses will, of course, become apparent as the
need arises.

Now for a few other attributes...

Directory room [Yes]? Yes
 
   ...enter Yes if you wish to associate a directory with this room.  If you
enter Yes, you will also be prompted with the following four questions:

Directory name [mydirname]: 
 
   ...the name of the subdirectory to put this room's files in.  The name of
the directory created will be <your BBS directory>/files/<room dir name>.
    
Uploading allowed [Yes]? Yes
 
   ...enter Yes if users are allowed to upload to this room.

Downloading allowed [Yes]? Yes
  
   ...enter Yes if users are allowed to download from this room.

Visible directory [Yes]? Yes
  
   ...enter Yes if users can read the directory of this room.


Network shared room [No]? No
  
   ...you can share a room over a network without setting this flag, and
vice versa, but what this flag does is twofold:
   1. It prevents people with no network access from entering messages here
   2. Messages are displayed with the name of their originating system in
      the header.

Permanent room [No]? No
 
   ...the sysop utilities have an option to purge rooms which have not been posted
in for two weeks.  If you wish to keep this from happening to a particular room, you
can set this option.  (Keep in mind that Lobby>, Mail>, Aide>, any network rooms, and
any directory rooms are automatically permanent.)


Anonymous messages [No]? No
Ask users whether to make messages anonymous [No]? No
  
   ...you can have rooms in which all messages are automatically anonymous,
and you can have rooms in which users are prompted whether to make a message
anonymous when they enter it.

Room aide [Joe Responsible]: 
 
   ...on larger systems, it helps to designate a person to be responsible for
a room.  Room Aides have access to a restricted set of Aide commands, ONLY
when they are in the room in which they have this privilege.  They can edit
the room, delete the room, delete and move messages, and invite or kick out
users (if it is a private room), but they cannot perform aide commands that
are not room-related (such as changing users access levels).

Save changes (y/n)? Yes
  
    ...this gives you an opportunity to back out, if you feel you really
messed things up while editing.

 
   FILE DIRECTORIES 
 
 If you have created any directory rooms, you can attach file descriptions to
the filenames through a special file called "filedir".  Each line contains
the name of a file in the directory, followed by a space and then a description
of the file, such as:
 
 myfile.txt This is a description of my file.
 phluff A phile phull of phluff!
 
 ...this would create file descriptions for the files 'myfile.txt' and 'phluff'
which would be displayed along with the directory.  It should also be noted
that when users upload files to your system, they will be prompted for file
descriptions, which will be added to the 'filedir' file.  If one does not
exist, it will be created.
 
 
   EDITING USERS
 
   This command allows any aide to change certain parameters of any user's
account. Entering this command will ask for the name of a user to edit, and
then prompt with the user's current access level, then ask for the new one.
  0 - Marked for deletion
  1 - New unvalidated user
  2 - Problem user
  3 - User with no network privileges
  4 - Normal user
  5 - Preferred user
  6 - Aide
   
   DELETING AND MOVING MESSAGES
   
   Aides have the ability to delete and move messages; however, they must have
message prompting turned on in order to do this. After each message, the
normal prompt appears:
   <A>gain, <N>ext message, <S>top ->
  Entering <D> will delete the message. A (y/n) prompt will appear to confirm
that you really want to delete the message.
  Entering <M> will prompt for a room to move the message to.
     
   
   SYSOP UTILITIES
   
   There are a number of utilities which may be accessed from the shell. It
is up to the system operator to decide which should be "sysop" utilities and
which should be accessible to all shell users. Please see utils.doc for a
description of these programs.
    
   
   CUSTOMIZING THE HELP FILES
 
   The subdirectory called "help" contains your system's help files.  There's
nothing hard-coded into the system that dictates what files should be there.
Whenever a user types the command "<.H>elp" followed by the name of a help
file, it displays the contents of that help file.
 
   The help files that come with the system, of course, are enough to guide
a user through its operation.  But you can add, change, or remove help files
to suit whatever is appropriate for your system. 
 
   Now for the fun part.  There are several strings that you can put in help
files that will be automatically substituted with other strings.  They are:
 
 ^nodename    = The node name of your system on a Citadel/UX network
 ^humannode   = Human-readable node name (also your node name on C86Net)
 ^fqdn        = Your system's fully-qualified domain name
 ^username    = The name of the user reading the help file
 ^usernum     = The user number of the user reading the help file
 ^sysadm      = The name of the system administraor (i.e., you)
 ^variantname = The name of the BBS software you're running
 
   So, for example, you could create a help file which looked like:
 
  "Lots of help, of course, is available right here on ^humannode.  Of
course, if you still have trouble, you could always bug ^sysadm about it!"
   
        
   CONCLUSION
   
 For more information, visit the Citadel/UX web site at UNCENSORED! BBS
 http://uncnsrd.mt-kisco.ny.us

